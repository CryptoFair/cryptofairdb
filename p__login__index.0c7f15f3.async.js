(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{gqXj:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("q1tI"));a("Pwec");var s=l(a("CtXQ"));a("+L6B");var u=l(a("2/Rp"));a("fOrg");var d=l(a("+KLJ"));a("2qtc");var c=l(a("kLXV")),o=l(a("d6i3"));a("miYZ");var f=l(a("tsqr")),i=l(a("1l/V")),m=l(a("qIgq"));a("tU7J");l(a("wFql"));var p=a("Y2fQ"),b=(l(a("u2Z0")),l(a("5XPN"))),w=l(a("MEt6")),g=l(a("p46w")),v=l(a("BM65")),x=l(a("3a4m")),h=l(a("lWT4")),E=l(a("JEMT")),y=l(a("xajh")),N=l(a("wY1l")),k=function(e){var t=(0,n.useState)(""),a=(0,m.default)(t,2),l=a[0],r=a[1],k=(0,n.useState)(!1),M=(0,m.default)(k,2),S=M[0],q=M[1],C=(0,n.useState)(!1),j=(0,m.default)(C,2),F=j[0],I=j[1],J=(0,n.useState)(!1),X=(0,m.default)(J,2),P=X[0];X[1];(0,n.useEffect)(function(){window.web4=new b.default(v.default.provider),window.contract=new web4.eth.Contract(w.default,v.default.contractAddress)},[null]);var Y=function(){var e=(0,i.default)(o.default.mark(function e(){var t,a;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(q(!0),!window.ethereum||S){e.next=24;break}return window.web3=new b.default(ethereum),e.prev=3,e.next=6,ethereum.enable();case 6:if(t=e.sent,!t||!t[0]){e.next=15;break}return e.next=10,window.contract.methods.users(t[0]).call();case 10:a=e.sent,console.log(a),a.isExist?(g.default.set("user",t[0]),x.default.push("/dashboard"),I(!1)):(f.default.error("Your ethereum address not found in contract."),I(!1)),e.next=16;break;case 15:f.default.error("Can not access your ethereum address");case 16:q(!1),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](3),q(!1);case 22:e.next=26;break;case 24:q(!1),B();case 26:case"end":return e.stop()}},e,null,[[3,19]])}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,i.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(F){e.next=12;break}if(I(!0),!window.web4.utils.isAddress(l)){e.next=10;break}return e.next=5,window.contract.methods.users(l).call();case 5:t=e.sent,console.log(t),t.isExist?(g.default.set("user",l),x.default.push("/dashboard"),I(!1)):(f.default.error("Invalid ethereum address."),I(!1)),e.next=12;break;case 10:f.default.error("Invalid ethereum address."),I(!1);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){c.default.error({title:"Not detect your provider.",content:"Please install metamask or use trustwallet,coinbase app in mobile."})},L=function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement(c.default,{title:"Basic Modal",visible:P},n.default.createElement("p",null,"Some contents..."),n.default.createElement("p",null,"Some contents..."),n.default.createElement("p",null,"Some contents...")),n.default.createElement("div",{className:"text-center text-gray-700 text-2xl font-bold mb-4"},(0,p.formatMessage)({id:"login.title"})),n.default.createElement("div",{className:"mb-4"},n.default.createElement(d.default,{type:"info",message:(0,p.formatMessage)({id:"login.info-need-eth"})})),n.default.createElement("div",{className:"text-center mb-4"},n.default.createElement(u.default,{type:"primary",size:"large",onClick:Y,loading:S},n.default.createElement(p.FormattedMessage,{id:"login.btn-auto-login"}))),n.default.createElement("div",{className:"mb-8 text-center"},n.default.createElement("p",{className:"text-gray-600 mb-1"},"Recommended for"),n.default.createElement("div",{className:"flex justify-center"},n.default.createElement("div",{className:"flex items-center mr-4"},n.default.createElement(s.default,{type:"desktop",className:"mr-1"}),n.default.createElement("img",{src:h.default,className:"w-4 h-4"})),n.default.createElement("div",{className:"flex items-center"},n.default.createElement(s.default,{type:"mobile",className:"mr-1"}),n.default.createElement("img",{src:E.default,className:"w-4 h-4"}),n.default.createElement("img",{src:y.default,className:"w-4 h-4"})))),n.default.createElement("div",{className:"w-full h-px bg-gray-400 mb-8 relative"},n.default.createElement("div",{className:"w-8 h-8 flex items-center justify-center border rounded-full bg-white text-gray-600 font-bold border-gray-600 absolute top-0",style:{left:"50%",transform:"translate(-50%,-50%)"}},"OR")),n.default.createElement("div",{className:"mb-4"},n.default.createElement("input",{className:"w-full px-2 py-3 border border-gray-500 rounded focus:outline-none focus:border-blue-600",type:"text",placeholder:(0,p.formatMessage)({id:"sign-up.ref-placeholder"}),value:l,onChange:function(e){return r(e.target.value)}})),n.default.createElement("div",{className:"text-center mb-4"},n.default.createElement(u.default,{type:"primary",size:"large",onClick:A,loading:F},n.default.createElement(p.FormattedMessage,{id:"login.btn-manually"}))),n.default.createElement("div",{className:"mb-4"},n.default.createElement(d.default,{showIcon:!0,type:"info",message:(0,p.formatMessage)({id:"login.info-no-ask"})})))};return n.default.createElement("div",{className:"bg-blue-600 min-h-screen flex items-center"},n.default.createElement("div",{className:"container mx-auto px-4 pt-4 pb-4"},n.default.createElement("div",{className:"text-center text-4xl text-white mb-4"},"CryptoFair"),n.default.createElement("div",{className:"w-full md:w-2/3 lg:w-2/5 bg-white rounded-lg shadow px-4 py-8 mx-auto relative"},L(),n.default.createElement("div",{className:"absolute bottom-0 left-0 right-0 mb-1 text-center"},"Don't have account? ",n.default.createElement(N.default,{to:"/signup"},"Sign Up")))))};t.default=k},u2Z0:function(e,t,a){e.exports={"bg-cryp-hover":"antd-pro-pages-login-style-bg-cryp-hover"}}}]);